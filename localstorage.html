<!DOCTYPE html>
<html>
<head>
  <title>Projects and Tasks</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      cursor: pointer;
      padding: 8px;
      border: 1px solid #ccc;
      margin: 5px 0;
      background: #f9f9f9;
      transition: background 0.3s;
    }
    li:hover {
      background: #e3f2fd;
    }
    .card {
      margin-top: 20px;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background: #fff;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      max-width: 400px;
    }
    .task {
      border-bottom: 1px solid #eee;
      padding: 8px 0;
    }
    .task:last-child {
      border-bottom: none;
    }
    .task-title {
      font-weight: bold;
    }
    .task-details {
      font-size: 0.9em;
      color: #555;
    }
  </style>
</head>
<body>
  <h2>Projects</h2>
  <ul id="projectList"></ul>

  <div id="taskCard" class="card" style="display:none;">
    <h3 id="cardTitle"></h3>
    <div id="taskList"></div>
  </div>

  <script>
    // Sample data - store in localStorage
    let projects = {
      "Website Redesign": [
        { title: "Design Homepage", description: "Create mockup", dueDate: "2025-08-15", priority: "High" },
        { title: "Implement Homepage", description: "Code in React", dueDate: "2025-08-18", priority: "High" }
      ],
      "Math Homework": [
        { title: "Solve Algebra", description: "Worksheet problems", dueDate: "2025-08-12", priority: "Medium" },
        { title: "Geometry Practice", description: "10 problems", dueDate: "2025-08-14", priority: "Low" }
      ]
    };
    localStorage.setItem("todo", JSON.stringify(projects));

    // Retrieve data
    let storedProjects = JSON.parse(localStorage.getItem("todo"));

    let projectList = document.getElementById("projectList");
    let taskCard = document.getElementById("taskCard");
    let cardTitle = document.getElementById("cardTitle");
    let taskList = document.getElementById("taskList");

    // Create project list
    for (let projectName in storedProjects) {
      let li = document.createElement("li");
      li.textContent = projectName;

      li.addEventListener("click", () => {
        showTasks(projectName);
      });

      projectList.appendChild(li);
    }

    // Show tasks inside card
    function showTasks(projectName) {
      cardTitle.textContent = projectName;
      taskList.innerHTML = ""; // clear previous tasks

      storedProjects[projectName].forEach(task => {
        let taskDiv = document.createElement("div");
        taskDiv.classList.add("task");

        taskDiv.innerHTML = `
          <div class="task-title">${task.title}</div>
          <div class="task-details">${task.description}</div>
          <div class="task-details">Due: ${task.dueDate} | Priority: ${task.priority}</div>
        `;

        taskList.appendChild(taskDiv);
      });

      taskCard.style.display = "block";
    }
  </script>
</body>
</html>
